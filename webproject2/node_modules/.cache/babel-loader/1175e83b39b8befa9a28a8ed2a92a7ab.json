{"remainingRequest":"E:\\ideas-test\\webproject\\node_modules\\babel-loader\\lib\\index.js!E:\\ideas-test\\webproject\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\ideas-test\\webproject\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ideas-test\\webproject\\src\\views\\propertymanage\\property\\addGuide\\Step1.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\ideas-test\\webproject\\src\\views\\propertymanage\\property\\addGuide\\Step1.vue","mtime":1655114138000},{"path":"E:\\ideas-test\\webproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655196103443},{"path":"E:\\ideas-test\\webproject\\node_modules\\babel-loader\\lib\\index.js","mtime":1655196104199},{"path":"E:\\ideas-test\\webproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655196103443},{"path":"E:\\ideas-test\\webproject\\node_modules\\vue-loader\\lib\\index.js","mtime":1655196105141}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBzZWxlY3RDb21wYW55IH0gZnJvbSAnQC9hcGkvZXN0YXRlJzsKaW1wb3J0IHsgaW5zZXJ0RXN0YXRlIH0gZnJvbSAnQC9hcGkvaW5zZXJ0RXN0YXRlJzsKCnZhciBRUyA9IHJlcXVpcmUoJ3FzJyk7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1N0ZXAxJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VsZWN0OiBbXSwKICAgICAgbGFiZWxDb2w6IHsKICAgICAgICBsZzogewogICAgICAgICAgc3BhbjogNgogICAgICAgIH0sCiAgICAgICAgc206IHsKICAgICAgICAgIHNwYW46IDQKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHdyYXBwZXJDb2w6IHsKICAgICAgICBsZzogewogICAgICAgICAgc3BhbjogMTYKICAgICAgICB9LAogICAgICAgIHNtOiB7CiAgICAgICAgICBzcGFuOiAyMAogICAgICAgIH0KICAgICAgfSwKICAgICAgZm9ybTogewogICAgICAgIGNvbXBhbnk6IFtdLAogICAgICAgIGVzdGF0ZUNvZGU6ICcnLAogICAgICAgIGVzdGF0ZU5hbWU6ICcnLAogICAgICAgIGNvdmVyQXJlYTogJycsCiAgICAgICAgYnVpbGRBcmVhOiAnJywKICAgICAgICBncmVlbkFyZWE6ICcnLAogICAgICAgIHJvYWRBcmVhOiAnJywKICAgICAgICBidWlsZGluZ051bWJlcjogJycsCiAgICAgICAgYnVpbGRpbmdMZWFkZXI6ICcnLAogICAgICAgIGVzdGF0ZUFkZHI6ICcnLAogICAgICAgIGNvbXBhbnlOYW1lOiAnJywKICAgICAgICBjb21wYW55QmVoYWxmOiAnJywKICAgICAgICBjb250YWN0OiAnJywKICAgICAgICBjb250YWN0UGhvbmU6ICcnLAogICAgICAgIHJlbWFyazogJycKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBlc3RhdGVDb2RlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5L2P5a6F57yW56CB5b+F6aG75aGr5YaZJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0gLy8geyBtaW46IDMsIG1heDogNSwgbWVzc2FnZTogJ0xlbmd0aCBzaG91bGQgYmUgMyB0byA1JywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICBdLAogICAgICAgIGNvbXBhbnk6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfmiYDlsZ7lhazlj7jlv4XpobvloavlhpknLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBlc3RhdGVOYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5qW85a6H5ZCN56ew5b+F6aG75aGr5YaZJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGJ1aWxkaW5nTnVtYmVyOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5qW85a6H5pWw6YeP5b+F6aG75aGr5YaZJywKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiAxLAogICAgICAgICAgbWF4OiAyMCwKICAgICAgICAgIHR5cGU6ICdudW1iZXInLAogICAgICAgICAgbWVzc2FnZTogJ0xlbmd0aCBzaG91bGQgYmUgMSB0byAyMCcsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBzZWxlY3RDb21wYW55KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzLnNlbGVjdCA9IHJlcy5yZXN1bHQ7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIF90aGlzLiRub3RpZmljYXRpb25bJ2Vycm9yJ10oewogICAgICAgIG1lc3NhZ2U6ICfplJnor68nLAogICAgICAgIGRlc2NyaXB0aW9uOiBlcnIudG9TdHJpbmcoKSwKICAgICAgICBkdXJhdGlvbjogMQogICAgICB9KTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgbmV4dFN0ZXA6IGZ1bmN0aW9uIG5leHRTdGVwKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCduYW1lJyArIHRoaXMuZm9ybS5lc3RhdGVOYW1lKTsKICAgICAgdGhpcy4kcmVmcy5ydWxlRm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHZhciBkYXRhID0gUVMuc3RyaW5naWZ5KF90aGlzMi5mb3JtKTsKICAgICAgICAgIGluc2VydEVzdGF0ZShkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgaWYgKHJlcy5tZXNzYWdlID09PSAnMScpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMubWVzc2FnZSk7CiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBfdGhpczIuJG5vdGlmaWNhdGlvbi5zdWNjZXNzKHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+aIkOWKnycsCiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXMucmVzdWx0CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9LCAxMDAwKTsKCiAgICAgICAgICAgICAgX3RoaXMyLiRzdG9yZS5jb21taXQoJ1NFVF9USVRMRScsIHsKICAgICAgICAgICAgICAgIGJ1aWxkaW5nTnVtYmVyOiBfdGhpczIuZm9ybS5idWlsZGluZ051bWJlciwKICAgICAgICAgICAgICAgIGVzdGF0ZUNvZGU6IF90aGlzMi5mb3JtLmVzdGF0ZUNvZGUKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgX3RoaXMyLiRlbWl0KCduZXh0U3RlcCcpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXMyLiRub3RpZmljYXRpb24uc3VjY2Vzcyh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICflpLHotKUnLAogICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVzLnJlc3VsdAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgX3RoaXMyLiRub3RpZmljYXRpb24uZXJyb3IoewogICAgICAgICAgICAgIG1lc3NhZ2U6ICfmirHmrYknLAogICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBlcnIucmVzdWx0CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0Rm9ybTogZnVuY3Rpb24gcmVzZXRGb3JtKCkgewogICAgICB0aGlzLiRyZWZzLnJ1bGVGb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMucnVsZUZvcm0ucmVzZXRGaWVsZHMpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA;AACA;;AACA;;AACA;AACAA,eADA;AAEAC,MAFA,kBAEA;AACA;AACAC,gBADA;AAEAC;AAAAC;AAAAC;AAAA;AAAAC;AAAAD;AAAA;AAAA,OAFA;AAGAE;AAAAH;AAAAC;AAAA;AAAAC;AAAAD;AAAA;AAAA,OAHA;AAIAG;AACAC,mBADA;AAEAC,sBAFA;AAGAC,sBAHA;AAIAC,qBAJA;AAKAC,qBALA;AAMAC,qBANA;AAOAC,oBAPA;AAQAC,0BARA;AASAC,0BATA;AAUAC,sBAVA;AAWAC,uBAXA;AAYAC,yBAZA;AAaAC,mBAbA;AAcAC,wBAdA;AAeAC;AAfA,OAJA;AAqBAC;AACAd,qBACA;AAAAe;AAAAC;AAAAC;AAAA,SADA,CAEA;AAFA,SADA;AAKAlB;AAAAgB;AAAAC;AAAAC;AAAA,UALA;AAMAhB;AAAAc;AAAAC;AAAAC;AAAA,UANA;AAOAX,yBACA;AACAS,wBADA;AAEAC,6BAFA;AAGAC;AAHA,SADA,EAMA;AAAAC;AAAAC;AAAAC;AAAAJ;AAAAC;AAAA,SANA;AAPA;AArBA;AAsCA,GAzCA;AA0CAI,SA1CA,qBA0CA;AAAA;;AACAC;AACA;AACA,KAFA,EAEAC,KAFA,CAEA;AACA;AACAP,qBADA;AAEAQ,mCAFA;AAGAC;AAHA;AAKA,KARA;AASA,GApDA;AAqDAC;AACAC,YADA,sBACA;AAAA;;AACAC;AACA;AACA;AACA;AACAC;AACA;AACAD;AACAE;AACA;AACAd,+BADA;AAEAQ;AAFA;AAIA,eALA,EAKA,IALA;;AAMA;AACAlB,0DADA;AAEAN;AAFA;;AAIA;AACA,aAbA,MAaA;AACA8B;AACA;AACAd,+BADA;AAEAQ;AAFA;AAIA,eALA,EAKA,IALA;AAMA;AACA,WAtBA,EAsBAD,KAtBA,CAsBA;AACA;AACAP,2BADA;AAEAQ;AAFA;AAIA,WA3BA;AA4BA,SA9BA,MA8BA;AACA;AACA;AACA,OAlCA;AAmCA,KAtCA;AAuCAO,aAvCA,uBAuCA;AACA;AACAH;AACA;AA1CA;AArDA","names":["name","data","select","labelCol","lg","span","sm","wrapperCol","form","company","estateCode","estateName","coverArea","buildArea","greenArea","roadArea","buildingNumber","buildingLeader","estateAddr","companyName","companyBehalf","contact","contactPhone","remark","rules","required","message","trigger","min","max","type","created","selectCompany","catch","description","duration","methods","nextStep","console","insertEstate","setTimeout","resetForm"],"sourceRoot":"src/views/propertymanage/property/addGuide","sources":["Step1.vue"],"sourcesContent":["<template>\n  <div>\n    <a-form-model ref=\"ruleForm\" :model=\"form\" :rules=\"rules\" style=\"margin: 20px auto 0;\">\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item\n            label=\"所属公司\"\n            :labelCol=\"labelCol\"\n            prop=\"company\"\n            :wrapperCol=\"wrapperCol\"\n          >\n            <a-select v-model=\"form.company\">\n              <a-select-option\n                :value=\"item.id\"\n                v-for=\"(item, index) in select\"\n                :key=\"index\"\n              >{{ item.companyFullName }}</a-select-option>\n            </a-select>\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item\n            label=\"住宅编码\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            prop=\"estateCode\"\n            ref=\"estateCode\"\n          >\n            <a-input v-model=\"form.estateCode\" @blur=\"() => {$refs.estateCode.onFieldBlur()}\" />\n          </a-form-model-item>\n        </a-col>\n        <a-col :span=\"12\">\n          <a-form-model-item\n            label=\"住宅名称\"\n            prop=\"estateName\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n          >\n            <a-input v-model=\"form.estateName\" />\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"占地面积(平房米)\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.coverArea\"/>\n          </a-form-model-item>\n        </a-col>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"建筑面积(平房米)\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.buildArea\"/>\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"绿地面积(平房米)\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.greenArea\"/>\n          </a-form-model-item>\n        </a-col>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"道路面积(平房米)\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.roadArea\"/>\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item\n            label=\"楼宇数量\"\n            :labelCol=\"labelCol\"\n            prop=\"buildingNumber\"\n            :wrapperCol=\"wrapperCol\"\n          >\n            <a-input v-model.number=\"form.buildingNumber\" />\n          </a-form-model-item>\n        </a-col>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"负责人\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.buildingLeader\"/>\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-form-model-item label=\"住宅地址\" :labelCol=\"{span: 3}\" :wrapperCol=\"{span: 20}\">\n          <a-input v-model=\"form.estateAddr\"/>\n        </a-form-model-item>\n      </a-row>\n      <a-row>\n        <div style=\"text-align:center;\">----开发商信息----</div>\n      </a-row>\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"公司名称\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.companyName\"/>\n          </a-form-model-item>\n        </a-col>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"法人代表\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.companyBehalf\"/>\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"联系人\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.contact\"/>\n          </a-form-model-item>\n        </a-col>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"联系电话\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.contactPhone\"/>\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-form-model-item label=\"备注\" :labelCol=\"{span: 3}\" :wrapperCol=\"{span: 20}\">\n          <a-input v-model=\"form.remark\"/>\n        </a-form-model-item>\n      </a-row>\n      <a-form-model-item :wrapperCol=\"{span: 19, offset: 5}\">\n        <a-button type=\"primary\" @click=\"nextStep(123)\">下一步</a-button>\n        <a-button style=\"margin-left: 10px;\" @click=\"resetForm\">Reset</a-button>\n      </a-form-model-item>\n    </a-form-model>\n  </div>\n</template>\n\n<script>\nimport { selectCompany } from '@/api/estate'\nimport { insertEstate } from '@/api/insertEstate'\nconst QS = require('qs')\nexport default {\n    name: 'Step1',\n    data() {\n        return {\n            select: [],\n            labelCol: { lg: { span: 6 }, sm: { span: 4 } },\n            wrapperCol: { lg: { span: 16 }, sm: { span: 20 } },\n            form: {\n                company: [],\n                estateCode: '',\n                estateName: '',\n                coverArea: '',\n                buildArea: '',\n                greenArea: '',\n                roadArea: '',\n                buildingNumber: '',\n                buildingLeader: '',\n                estateAddr: '',\n                companyName: '',\n                companyBehalf: '',\n                contact: '',\n                contactPhone: '',\n                remark: ''\n            },\n            rules: {\n                estateCode: [\n                    { required: true, message: '住宅编码必须填写', trigger: 'blur' }\n                    // { min: 3, max: 5, message: 'Length should be 3 to 5', trigger: 'blur' }\n                ],\n                company: [{ required: true, message: '所属公司必须填写', trigger: 'change' }],\n                estateName: [{ required: true, message: '楼宇名称必须填写', trigger: 'blur' }],\n                buildingNumber: [\n                    {\n                        required: true,\n                        message: '楼宇数量必须填写',\n                        trigger: 'change'\n                    },\n                    { min: 1, max: 20, type: 'number', message: 'Length should be 1 to 20', trigger: 'change' }\n                ]\n            }\n        }\n    },\n    created() {\n        selectCompany().then(res => {\n            this.select = res.result\n        }).catch(err => {\n            this.$notification['error']({\n                message: '错误',\n                description: err.toString(),\n                duration: 1\n            })\n        })\n    },\n    methods: {\n        nextStep() {\n            console.log('name' + this.form.estateName)\n            this.$refs.ruleForm.validate(valid => {\n                if (valid) {\n                    const data = QS.stringify(this.form)\n                    insertEstate(data).then(res => {\n                        if (res.message === '1') {\n                            console.log(res.message)\n                            setTimeout(() => {\n                                this.$notification.success({\n                                    message: '成功',\n                                    description: res.result\n                                })\n                            }, 1000)\n                            this.$store.commit('SET_TITLE', {\n                                buildingNumber: this.form.buildingNumber,\n                                estateCode: this.form.estateCode\n                            })\n                            this.$emit('nextStep')\n                        } else {\n                            setTimeout(() => {\n                                this.$notification.success({\n                                    message: '失败',\n                                    description: res.result\n                                })\n                            }, 1000)\n                        }\n                    }).catch(err => {\n                        this.$notification.error({\n                            message: '抱歉',\n                            description: err.result\n                        })\n                    })\n                } else {\n                    return false\n                }\n            })\n        },\n        resetForm() {\n            this.$refs.ruleForm.resetFields()\n            console.log(this.$refs.ruleForm.resetFields)\n        }\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.step-form-style-desc {\n    padding: 0 56px;\n    color: rgba(0, 0, 0, 0.45);\n\n    h3 {\n        margin: 0 0 12px;\n        color: rgba(0, 0, 0, 0.45);\n        font-size: 16px;\n        line-height: 32px;\n    }\n\n    h4 {\n        margin: 0 0 4px;\n        color: rgba(0, 0, 0, 0.45);\n        font-size: 14px;\n        line-height: 22px;\n    }\n\n    p {\n        margin-top: 0;\n        margin-bottom: 12px;\n        line-height: 22px;\n    }\n}\n.ant-form-item {\n    margin-bottom: 8px;\n}\n</style>\n"]}]}