{"remainingRequest":"E:\\ideas-test\\webproject\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ideas-test\\webproject\\src\\views\\owner\\checkin.vue?vue&type=style&index=0&id=0857d4a7&scoped=true&lang=less&","dependencies":[{"path":"E:\\ideas-test\\webproject\\src\\views\\owner\\checkin.vue","mtime":1657215521351},{"path":"E:\\ideas-test\\webproject\\node_modules\\css-loader\\dist\\cjs.js","mtime":1655196104040},{"path":"E:\\ideas-test\\webproject\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1655196105840},{"path":"E:\\ideas-test\\webproject\\node_modules\\postcss-loader\\src\\index.js","mtime":1655196104749},{"path":"E:\\ideas-test\\webproject\\node_modules\\less-loader\\dist\\cjs.js","mtime":1655196104499},{"path":"E:\\ideas-test\\webproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655196103443},{"path":"E:\\ideas-test\\webproject\\node_modules\\vue-loader\\lib\\index.js","mtime":1655196105141}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5zZWFyY2gtaG91c2UgewogICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBtaW4taGVpZ2h0OiA1MDBweDsKfQo="},{"version":3,"sources":["checkin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkRA;AACA;AACA;AACA;AACA","file":"checkin.vue","sourceRoot":"src/views/owner","sourcesContent":["<template>\n  <div class=\"search-house\">\n    <a-form :form=\"form\" :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\">\n      <a-row>\n        <a-col :span=\"6\">\n          <a-form-item label=\"请选择业主:\">\n            <a-select placeholder=\"请选择业主\" v-model=\"homeForm.yezhu\" @change=\"yezhuChange\">\n              <a-select-option v-for=\"(item, index) in yezhuList\" :key=\"index\" :value=\"item.customerName\" @click=\"chooseYezhu(item)\">{{ item.customerName }}</a-select-option>\n            </a-select>\n          </a-form-item>\n          <a-form-item label=\"请选择住宅:\">\n            <a-select placeholder=\"请选择住宅\" v-model=\"homeForm.home\" @change=\"homeChange\">\n              <a-select-option :key=\"index\" :value=\"item.estateCode\" v-for=\"(item, index) in homeList\" @click=\"chooseHome(item)\">\n                {{ item.estateName }}\n              </a-select-option>\n            </a-select>\n          </a-form-item>\n          <a-form-item label=\"请选择楼宇:\">\n            <a-select placeholder=\"请选择楼宇\" v-model=\"homeForm.build\" @change=\"buildChange\">\n              <a-select-option :key=\"index\" :value=\"item.buildingCode\" v-for=\"(item, index) in buildList\" @click=\"chooseBuild(item)\">\n                {{ item.buildingName }}\n              </a-select-option>\n            </a-select>\n          </a-form-item>\n          <a-form-item label=\"请选择单元:\">\n            <a-select placeholder=\"请选择单元\" v-model=\"homeForm.unit\" @change=\"unitChange\">\n              <a-select-option :key=\"index\" :value=\"item.unitCode\" v-for=\"(item, index) in unitList\" @click=\"chooseUnit(item)\">\n                {{ item.unitName }}\n              </a-select-option>\n            </a-select>\n          </a-form-item>\n          <a-form-item label=\"请选择房间:\">\n            <a-select placeholder=\"请选择房间\" v-model=\"homeForm.cell\">\n              <a-select-option :key=\"index\" :value=\"item.cellCode+''\" v-for=\"(item, index) in cellList\" @click=\"chooseCell(item)\">\n                {{ item.cellName }}\n              </a-select-option>\n            </a-select>\n          </a-form-item>\n          <!-- <a-form-item label=\"房屋查询\">\n            <a-cascader\n              class=\"cascader\"\n              :options=\"options\"\n              @change=\"onChange\"\n              v-decorator=\"['cascader']\"\n              placeholder=\"Please select\"\n            />\n          </a-form-item> -->\n        </a-col>\n        <a-col :span=\"18\">\n          <div>\n            <!-- <h1 class=\"housinginformation-header\">查看 第1栋 楼宇信息</h1> -->\n            <a-row>\n              <a-col :span=\"8\">\n                <a-form-item label=\"入住日期\" :labelCol=\"{span: 6}\" :wrapperCol=\"{span: 18}\">\n                  <a-date-picker v-model=\"homeForm.date\"/>\n                </a-form-item>\n              </a-col>\n              <a-col :span=\"8\">\n                <a-form-item label=\"使用状态\" :labelCol=\"{span: 6}\" :wrapperCol=\"{span: 18}\">\n                  <a-select placeholder=\"please select your zone\" v-model=\"homeForm.status\">\n                    <a-select-option value=\"空闲\">空闲</a-select-option>\n                    <a-select-option value=\"自主\">自主</a-select-option>\n                    <a-select-option value=\"出租\">出租</a-select-option>\n                    <a-select-option value=\"转卖\">转卖</a-select-option>\n                  </a-select>\n                </a-form-item>\n              </a-col>\n            </a-row>\n            <a-row type=\"flex\" justify=\"center\">\n              <a-button @click=\"save\">保存</a-button>\n            </a-row>\n          </div>\n        </a-col>\n      </a-row>\n    </a-form>\n  </div>\n</template>\n\n<script>\nimport { selectCustomer, insertCustomerOrEstate } from '@/api/owner'\nimport $commonFun from '@/utils/common'\nimport { selectEstate, selectBuildingByEstate, selectUnitByBuildingCode, selectCell } from '@/api/estate'\nconst QS = require('qs')\nexport default {\n    data() {\n        return {\n            labelCol: { lg: { span: 6 }, sm: { span: 6 } },\n            wrapperCol: { lg: { span: 16 }, sm: { span: 16 } },\n            form: this.$form.createForm(this),\n            options: [\n                {\n                    value: '第一栋',\n                    label: '第一栋',\n                    children: [\n                        {\n                            value: '一单元',\n                            label: '一单元',\n                            children: [\n                                {\n                                    value: '101',\n                                    label: '101'\n                                },\n                                {\n                                    value: '102',\n                                    label: '102'\n                                }\n                            ]\n                        },\n                        {\n                            value: '二单元',\n                            label: '二单元',\n                            children: [\n                                {\n                                    value: '101',\n                                    label: '101'\n                                },\n                                {\n                                    value: '102',\n                                    label: '102'\n                                }\n                            ]\n                        }\n                    ]\n                },\n                {\n                    value: '第二栋',\n                    label: '第二栋',\n                    children: [\n                        {\n                            value: '一单元',\n                            label: '一单元',\n                            children: [\n                                {\n                                    value: '101',\n                                    label: '101'\n                                },\n                                {\n                                    value: '102',\n                                    label: '102'\n                                }\n                            ]\n                        },\n                        {\n                            value: '二单元',\n                            label: '二单元',\n                            children: [\n                                {\n                                    value: '101',\n                                    label: '101'\n                                },\n                                {\n                                    value: '102',\n                                    label: '102'\n                                }\n                            ]\n                        }\n                    ]\n                }\n            ],\n            yezhuList: [],\n            homeList: [],\n            homeForm: {\n              yezhu: undefined,\n              yezhuId: '',\n              home: undefined,\n              build: undefined,\n              unit: undefined,\n              cell: undefined,\n              cellId: '',\n              status: undefined,\n              date: ''\n            },\n            buildList: [],\n            unitList: [],\n            cellList: []\n        }\n    },\n    created() {\n      this.getYezhu()\n    },\n    methods: {\n        // onChange(selectedKeys, info) {\n        //     console.log(selectedKeys, info)\n        // },\n        save() {\n          const obj = {\n            customerId: this.homeForm.yezhuId,\n            customerName: this.homeForm.yezhu,\n            cellId: this.homeForm.cellId,\n            useStatus: this.homeForm.status,\n            liveDate: $commonFun.dateFormat(new Date(this.homeForm.date))\n          }\n          console.log(obj)\n          insertCustomerOrEstate(obj).then(res => {\n            if (res.result === '1') {\n              this.$message.success('添加成功')\n            } else if (res.result === '2') {\n              this.$message.errr('添加失败')\n            }\n          })\n            // e.preventDefault()\n            // this.form.validateFieldsAndScroll((err, values) => {\n            //     if (!err) {\n            //         this.$emit('nextStep')\n            //         console.log('Received values of form: ', values)\n            //     }\n            // })\n        },\n        yezhuChange() {\n          this.homeForm.home = undefined\n          this.homeForm.build = undefined\n          this.homeForm.unit = undefined\n          this.homeForm.cell = undefined\n          this.homeList = []\n          this.buildList = []\n          this.unitList = []\n          this.cellList = []\n        },\n        homeChange() {\n          this.homeForm.build = undefined\n          this.homeForm.unit = undefined\n          this.homeForm.cell = undefined\n          this.buildList = []\n          this.unitList = []\n          this.cellList = []\n        },\n        buildChange() {\n          this.homeForm.unit = undefined\n          this.homeForm.cell = undefined\n          this.unitList = []\n          this.cellList = []\n        },\n        unitChange() {\n          this.homeForm.cell = undefined\n          this.cellList = []\n        },\n        getYezhu() {\n          selectCustomer({\n            message: null\n          }).then(res => {\n            this.yezhuList = res.result\n          })\n        },\n        chooseYezhu(item) {\n          console.log(item.customerName, item.customerCode)\n          this.homeList.yezhu = item.customerName\n          this.homeForm.yezhuId = item.customerCode\n          selectEstate(QS.stringify({ company: item.company })).then(res => {\n               this.homeList = res.result\n           })\n        },\n        chooseHome(item) {\n          selectBuildingByEstate(QS.stringify({ estateCode: item.estateCode })).then(res => {\n            this.buildList = res.result\n          })\n        },\n        chooseBuild(item) {\n          selectUnitByBuildingCode(QS.stringify({ buildingCode: item.buildingCode })).then(res => {\n            this.unitList = res.result\n          })\n        },\n        chooseUnit(item) {\n          selectCell(QS.stringify({ unitCode: item.unitCode })).then(res => {\n            this.cellList = res.result\n          })\n        },\n        chooseCell(item) {\n          this.homeForm.cellId = item.id\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"less\">\n.search-house {\n    background-color: #fff;\n    padding: 20px;\n    min-height: 500px;\n}\n</style>\n"]}]}