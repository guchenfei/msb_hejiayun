{"remainingRequest":"E:\\ideas-test\\webproject\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\ideas-test\\webproject\\src\\views\\propertymanage\\property\\addGuide\\Step1.vue?vue&type=style&index=0&id=75ddfe10&lang=less&scoped=true&","dependencies":[{"path":"E:\\ideas-test\\webproject\\src\\views\\propertymanage\\property\\addGuide\\Step1.vue","mtime":1655114138000},{"path":"E:\\ideas-test\\webproject\\node_modules\\css-loader\\dist\\cjs.js","mtime":1655196104040},{"path":"E:\\ideas-test\\webproject\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1655196105840},{"path":"E:\\ideas-test\\webproject\\node_modules\\postcss-loader\\src\\index.js","mtime":1655196104749},{"path":"E:\\ideas-test\\webproject\\node_modules\\less-loader\\dist\\cjs.js","mtime":1655196104499},{"path":"E:\\ideas-test\\webproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655196103443},{"path":"E:\\ideas-test\\webproject\\node_modules\\vue-loader\\lib\\index.js","mtime":1655196105141}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5zdGVwLWZvcm0tc3R5bGUtZGVzYyB7CiAgICBwYWRkaW5nOiAwIDU2cHg7CiAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjQ1KTsKCiAgICBoMyB7CiAgICAgICAgbWFyZ2luOiAwIDAgMTJweDsKICAgICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjQ1KTsKICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgICAgbGluZS1oZWlnaHQ6IDMycHg7CiAgICB9CgogICAgaDQgewogICAgICAgIG1hcmdpbjogMCAwIDRweDsKICAgICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjQ1KTsKICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgbGluZS1oZWlnaHQ6IDIycHg7CiAgICB9CgogICAgcCB7CiAgICAgICAgbWFyZ2luLXRvcDogMDsKICAgICAgICBtYXJnaW4tYm90dG9tOiAxMnB4OwogICAgICAgIGxpbmUtaGVpZ2h0OiAyMnB4OwogICAgfQp9Ci5hbnQtZm9ybS1pdGVtIHsKICAgIG1hcmdpbi1ib3R0b206IDhweDsKfQo="},{"version":3,"sources":["Step1.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2OA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Step1.vue","sourceRoot":"src/views/propertymanage/property/addGuide","sourcesContent":["<template>\n  <div>\n    <a-form-model ref=\"ruleForm\" :model=\"form\" :rules=\"rules\" style=\"margin: 20px auto 0;\">\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item\n            label=\"所属公司\"\n            :labelCol=\"labelCol\"\n            prop=\"company\"\n            :wrapperCol=\"wrapperCol\"\n          >\n            <a-select v-model=\"form.company\">\n              <a-select-option\n                :value=\"item.id\"\n                v-for=\"(item, index) in select\"\n                :key=\"index\"\n              >{{ item.companyFullName }}</a-select-option>\n            </a-select>\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item\n            label=\"住宅编码\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            prop=\"estateCode\"\n            ref=\"estateCode\"\n          >\n            <a-input v-model=\"form.estateCode\" @blur=\"() => {$refs.estateCode.onFieldBlur()}\" />\n          </a-form-model-item>\n        </a-col>\n        <a-col :span=\"12\">\n          <a-form-model-item\n            label=\"住宅名称\"\n            prop=\"estateName\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n          >\n            <a-input v-model=\"form.estateName\" />\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"占地面积(平房米)\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.coverArea\"/>\n          </a-form-model-item>\n        </a-col>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"建筑面积(平房米)\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.buildArea\"/>\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"绿地面积(平房米)\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.greenArea\"/>\n          </a-form-model-item>\n        </a-col>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"道路面积(平房米)\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.roadArea\"/>\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item\n            label=\"楼宇数量\"\n            :labelCol=\"labelCol\"\n            prop=\"buildingNumber\"\n            :wrapperCol=\"wrapperCol\"\n          >\n            <a-input v-model.number=\"form.buildingNumber\" />\n          </a-form-model-item>\n        </a-col>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"负责人\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.buildingLeader\"/>\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-form-model-item label=\"住宅地址\" :labelCol=\"{span: 3}\" :wrapperCol=\"{span: 20}\">\n          <a-input v-model=\"form.estateAddr\"/>\n        </a-form-model-item>\n      </a-row>\n      <a-row>\n        <div style=\"text-align:center;\">----开发商信息----</div>\n      </a-row>\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"公司名称\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.companyName\"/>\n          </a-form-model-item>\n        </a-col>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"法人代表\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.companyBehalf\"/>\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"联系人\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.contact\"/>\n          </a-form-model-item>\n        </a-col>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"联系电话\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.contactPhone\"/>\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-form-model-item label=\"备注\" :labelCol=\"{span: 3}\" :wrapperCol=\"{span: 20}\">\n          <a-input v-model=\"form.remark\"/>\n        </a-form-model-item>\n      </a-row>\n      <a-form-model-item :wrapperCol=\"{span: 19, offset: 5}\">\n        <a-button type=\"primary\" @click=\"nextStep(123)\">下一步</a-button>\n        <a-button style=\"margin-left: 10px;\" @click=\"resetForm\">Reset</a-button>\n      </a-form-model-item>\n    </a-form-model>\n  </div>\n</template>\n\n<script>\nimport { selectCompany } from '@/api/estate'\nimport { insertEstate } from '@/api/insertEstate'\nconst QS = require('qs')\nexport default {\n    name: 'Step1',\n    data() {\n        return {\n            select: [],\n            labelCol: { lg: { span: 6 }, sm: { span: 4 } },\n            wrapperCol: { lg: { span: 16 }, sm: { span: 20 } },\n            form: {\n                company: [],\n                estateCode: '',\n                estateName: '',\n                coverArea: '',\n                buildArea: '',\n                greenArea: '',\n                roadArea: '',\n                buildingNumber: '',\n                buildingLeader: '',\n                estateAddr: '',\n                companyName: '',\n                companyBehalf: '',\n                contact: '',\n                contactPhone: '',\n                remark: ''\n            },\n            rules: {\n                estateCode: [\n                    { required: true, message: '住宅编码必须填写', trigger: 'blur' }\n                    // { min: 3, max: 5, message: 'Length should be 3 to 5', trigger: 'blur' }\n                ],\n                company: [{ required: true, message: '所属公司必须填写', trigger: 'change' }],\n                estateName: [{ required: true, message: '楼宇名称必须填写', trigger: 'blur' }],\n                buildingNumber: [\n                    {\n                        required: true,\n                        message: '楼宇数量必须填写',\n                        trigger: 'change'\n                    },\n                    { min: 1, max: 20, type: 'number', message: 'Length should be 1 to 20', trigger: 'change' }\n                ]\n            }\n        }\n    },\n    created() {\n        selectCompany().then(res => {\n            this.select = res.result\n        }).catch(err => {\n            this.$notification['error']({\n                message: '错误',\n                description: err.toString(),\n                duration: 1\n            })\n        })\n    },\n    methods: {\n        nextStep() {\n            console.log('name' + this.form.estateName)\n            this.$refs.ruleForm.validate(valid => {\n                if (valid) {\n                    const data = QS.stringify(this.form)\n                    insertEstate(data).then(res => {\n                        if (res.message === '1') {\n                            console.log(res.message)\n                            setTimeout(() => {\n                                this.$notification.success({\n                                    message: '成功',\n                                    description: res.result\n                                })\n                            }, 1000)\n                            this.$store.commit('SET_TITLE', {\n                                buildingNumber: this.form.buildingNumber,\n                                estateCode: this.form.estateCode\n                            })\n                            this.$emit('nextStep')\n                        } else {\n                            setTimeout(() => {\n                                this.$notification.success({\n                                    message: '失败',\n                                    description: res.result\n                                })\n                            }, 1000)\n                        }\n                    }).catch(err => {\n                        this.$notification.error({\n                            message: '抱歉',\n                            description: err.result\n                        })\n                    })\n                } else {\n                    return false\n                }\n            })\n        },\n        resetForm() {\n            this.$refs.ruleForm.resetFields()\n            console.log(this.$refs.ruleForm.resetFields)\n        }\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.step-form-style-desc {\n    padding: 0 56px;\n    color: rgba(0, 0, 0, 0.45);\n\n    h3 {\n        margin: 0 0 12px;\n        color: rgba(0, 0, 0, 0.45);\n        font-size: 16px;\n        line-height: 32px;\n    }\n\n    h4 {\n        margin: 0 0 4px;\n        color: rgba(0, 0, 0, 0.45);\n        font-size: 14px;\n        line-height: 22px;\n    }\n\n    p {\n        margin-top: 0;\n        margin-bottom: 12px;\n        line-height: 22px;\n    }\n}\n.ant-form-item {\n    margin-bottom: 8px;\n}\n</style>\n"]}]}